This is the frontend logic
